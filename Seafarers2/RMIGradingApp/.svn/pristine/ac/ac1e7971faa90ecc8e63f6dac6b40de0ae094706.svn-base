package com.rmi.tradecompapproval.adfbc.views.readonly;

import com.rmi.tradecompapproval.adfbc.services.RMITradeCompApprovalAppModuleImpl;
import com.rmi.tradecompapproval.adfbc.utils.AdfUtils;

import java.math.BigDecimal;

import java.sql.CallableStatement;
import java.sql.SQLException;
import java.sql.Types;

import javax.faces.application.FacesMessage;

import oracle.jbo.JboException;
import oracle.jbo.server.ViewRowImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Fri May 17 14:43:49 IST 2019
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class DualProcessBookViewRowImpl extends ViewRowImpl {
    /**
     * AttributesEnum: generated enum for identifying attributes and accessors. DO NOT MODIFY.
     */
    public enum AttributesEnum {
        Selectobjects0,
        Trans5Yr,
        Trans10Yr,
        TransYacht;
        private static AttributesEnum[] vals = null;
        private static final int firstIndex = 0;

        public int index() {
            return DualProcessBookViewRowImpl.AttributesEnum.firstIndex() + ordinal();
        }

        public static final int firstIndex() {
            return firstIndex;
        }

        public static int count() {
            return DualProcessBookViewRowImpl.AttributesEnum.firstIndex() +
                   DualProcessBookViewRowImpl.AttributesEnum.staticValues().length;
        }

        public static final AttributesEnum[] staticValues() {
            if (vals == null) {
                vals = DualProcessBookViewRowImpl.AttributesEnum.values();
            }
            return vals;
        }
    }


    public static final int SELECTOBJECTS0 = AttributesEnum.Selectobjects0.index();
    public static final int TRANS5YR = AttributesEnum.Trans5Yr.index();
    public static final int TRANS10YR = AttributesEnum.Trans10Yr.index();
    public static final int TRANSYACHT = AttributesEnum.TransYacht.index();

    /**
     * This is the default constructor (do not remove).
     */
    public DualProcessBookViewRowImpl() {
    }

    /**
     * Gets the attribute value for the calculated attribute Selectobjects0.
     * @return the Selectobjects0
     */
    public String getSelectobjects0() {
        return (String) getAttributeInternal(SELECTOBJECTS0);
    }

    /**
     * Gets the attribute value for the calculated attribute Trans5Yr.
     * @return the Trans5Yr
     */
    public Integer getTrans5Yr()
    {
        try 
        {
            if (getAttributeInternal(TRANS5YR) != null)
                return (Integer) getAttributeInternal(TRANS5YR);
            else
                return generateBookNumber5Yr();
        } catch (Exception e) {
            AdfUtils.addFormattedFacesErrorMessage("System encountered an exception while fetching data." +
                                             " Please contact your System Administrator." , 
                                             "", FacesMessage.SEVERITY_ERROR); 
        }
        return (Integer) getAttributeInternal(TRANS5YR);
    }

    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute Trans5Yr.
     * @param value value to set the  Trans5Yr
     */
    public void setTrans5Yr(Integer value) {
        setAttributeInternal(TRANS5YR, value);
    }

    /**
     * Gets the attribute value for the calculated attribute Trans10Yr.
     * @return the Trans10Yr
     */
    public Integer getTrans10Yr() {
        return (Integer) getAttributeInternal(TRANS10YR);
    }

    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute Trans10Yr.
     * @param value value to set the  Trans10Yr
     */
    public void setTrans10Yr(Integer value) {
        setAttributeInternal(TRANS10YR, value);
    }

    /**
     * Gets the attribute value for the calculated attribute TransYacht.
     * @return the TransYacht
     */
    public Integer getTransYacht() {
        return (Integer) getAttributeInternal(TRANSYACHT);
    }

    /**
     * Sets <code>value</code> as the attribute value for the calculated attribute TransYacht.
     * @param value value to set the  TransYacht
     */
    public void setTransYacht(Integer value) {
        setAttributeInternal(TRANSYACHT, value);
    }

    public Integer generateBookNumber5Yr()
    {
        Integer fiveYr = null;
        
        try
        {
            fiveYr = ((BigDecimal) AdfUtils.callDbFunction(getAm(), Types.NUMERIC, "RMI_SICD_PUB.FETCH_BOOK_NUMBER(?)", 
                                              new Object[] {"5Yr"})).intValue();
        } 
        catch (Exception e) {
            AdfUtils.addFormattedFacesErrorMessage("System encountered an exception while fetching data." +
                                             " Please contact your System Administrator." , 
                                             "", FacesMessage.SEVERITY_ERROR);
        }
        
        if(fiveYr != null)
            return fiveYr;
        else
            return -1;
    }
    
    
    public RMITradeCompApprovalAppModuleImpl getAm()
    {
        return (RMITradeCompApprovalAppModuleImpl) this.getApplicationModule();
    }
}

