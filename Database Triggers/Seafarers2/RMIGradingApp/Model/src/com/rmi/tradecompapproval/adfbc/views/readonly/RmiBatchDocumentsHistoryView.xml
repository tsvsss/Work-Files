<?xml version="1.0" encoding="windows-1252" ?>
<!DOCTYPE ViewObject SYSTEM "jbo_03_01.dtd">
<!---->
<ViewObject
  xmlns="http://xmlns.oracle.com/bc4j"
  Name="RmiBatchDocumentsHistoryView"
  Version="12.1.3.10.8"
  InheritPersonalization="merge"
  BindingStyle="OracleName"
  CustomQuery="true"
  RowClass="com.rmi.tradecompapproval.adfbc.views.readonly.RmiBatchDocumentsHistoryViewRowImpl"
  PageIterMode="Full"
  FetchMode="FETCH_AS_NEEDED"
  Passivate="All">
  <DesignTime>
    <Attr Name="_codeGenFlag2" Value="Access"/>
    <Attr Name="_isExpertMode" Value="true"/>
    <Attr Name="_isCodegen" Value="true"/>
  </DesignTime>
  <Properties>
    <SchemaBasedProperties>
      <LABEL
        ResId="com.rmi.tradecompapproval.adfbc.views.readonly.RmiBatchDocumentsHistoryView_LABEL"/>
    </SchemaBasedProperties>
  </Properties>
  <Variable
    Name="pEsiBatchId"
    Kind="where"
    Type="java.lang.Integer">
    <Properties>
      <SchemaBasedProperties>
        <DISPLAYHINT
          Value="Hide"/>
      </SchemaBasedProperties>
    </Properties>
  </Variable>
  <Variable
    Name="pSeafarerId"
    Kind="where"
    Type="java.lang.Integer">
    <Properties>
      <SchemaBasedProperties>
        <DISPLAYHINT
          Value="Hide"/>
      </SchemaBasedProperties>
    </Properties>
  </Variable>
  <Variable
    Name="pDocCode"
    Kind="where"
    Type="java.lang.String">
    <Properties>
      <SchemaBasedProperties>
        <DISPLAYHINT
          Value="Hide"/>
      </SchemaBasedProperties>
    </Properties>
  </Variable>
  <SQLQuery><![CDATA[SELECT        
P_DOC_ID,        
ESI_BATCH_ID,        
SEAFARER_ID,        
DOC_CODE,    
DECODE(DOC_CODE,     
'0001', 'APPLICATION DOCUMENT',     
'0002', 'PHOTO',     
'0003', 'IDENTITY DOCUMENT',     
'0004', 'MEDICAL EXAMINATION REPORT',
'0005', 'OFFICER CERTIFICATE',
'0006', 'SPECIAL QUALIFICATION CERTIFICATE',
'0008', 'SEA SERVICE TRANSCRIPT',    
'0009', 'AFFIDAVIT OF LOST CERTIFICATE',    
'0016', 'SECURITY TRAINING CERTIFICATE',    
'0031', 'INTERNAL SUPPORTING DOCUMENTS',    
'SUPPORTING DOCUMENT') DOC_TYPE,    
EDOC_ID,      
DOCUMENT_UPLOADED_BY,      
(SELECT UPPER(FIRST_NAME||' '||LAST_NAME) FROM RMI_SEAFARER.RMI_USER       
  WHERE USER_ID = DOCUMENT_UPLOADED_BY) DOCUMENT_UPLOADED_BY_NAME,      
DOCUMENT_UPLOADED_DATE,      
(SELECT UPPER(FIRST_NAME||' '||LAST_NAME) FROM RMI_SEAFARER.RMI_USER       
  WHERE USER_ID = RBDH.CREATED_BY) CREATED_BY_NAME,      
CREATED_BY,        
CREATION_DATE,        
LAST_UPDATED_BY,        
LAST_UPDATE_DATE,        
(select disk_path from iri_edocs where id = EDOC_ID) DOC_LINK        
FROM        
RMI_SEAFARER.RMI_BATCH_DOCUMENTS_HISTORY RBDH   
WHERE        
ESI_BATCH_ID = :pEsiBatchId        
AND SEAFARER_ID = :pSeafarerId        
AND DOC_CODE IN (SELECT :pDocCode FROM DUAL        
                  WHERE :pDocCode IS NOT NULL        
                  UNION all        
                  SELECT DISTINCT DOC_CODE FROM         
                  RMI_SEAFARER.RMI_BATCH_DOCUMENTS_HISTORY        
                  WHERE ESI_BATCH_ID = :pEsiBatchId         
                  AND SEAFARER_ID = :pSeafarerId        
                  AND DOC_CODE <> '0002' AND :pDocCode IS NULL)        
ORDER BY CREATION_DATE DESC]]></SQLQuery>
  <ViewAttribute
    Name="PDocId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="P_DOC_ID"
    Expression="P_DOC_ID"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="EsiBatchId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="ESI_BATCH_ID"
    Expression="ESI_BATCH_ID"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="SeafarerId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="SEAFARER_ID"
    Expression="SEAFARER_ID"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="DocCode"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="20"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DOC_CODE"
    Expression="DOC_CODE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="20"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="DocType"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="29"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DOC_TYPE"
    Expression="DOC_TYPE"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="29"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="EdocId"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="EDOC_ID"
    Expression="EDOC_ID"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="DocumentUploadedBy"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="DOCUMENT_UPLOADED_BY"
    Expression="DOCUMENT_UPLOADED_BY"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="DocumentUploadedByName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="61"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DOCUMENT_UPLOADED_BY_NAME"
    Expression="DOCUMENT_UPLOADED_BY_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="61"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="DocumentUploadedDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="DOCUMENT_UPLOADED_DATE"
    Expression="DOCUMENT_UPLOADED_DATE"
    SQLType="DATE"/>
  <ViewAttribute
    Name="CreatedByName"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="61"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="CREATED_BY_NAME"
    Expression="CREATED_BY_NAME"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="61"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="CreatedBy"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="CREATED_BY"
    Expression="CREATED_BY"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="CreationDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="CREATION_DATE"
    Expression="CREATION_DATE"
    SQLType="DATE"/>
  <ViewAttribute
    Name="LastUpdatedBy"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.lang.Integer"
    ColumnType="NUMBER"
    AliasName="LAST_UPDATED_BY"
    Expression="LAST_UPDATED_BY"
    SQLType="INTEGER"/>
  <ViewAttribute
    Name="LastUpdateDate"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Type="java.sql.Timestamp"
    ColumnType="DATE"
    AliasName="LAST_UPDATE_DATE"
    Expression="LAST_UPDATE_DATE"
    SQLType="DATE"/>
  <ViewAttribute
    Name="DocLink"
    IsUpdateable="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="4000"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="DOC_LINK"
    Expression="DOC_LINK"
    SQLType="VARCHAR">
    <DesignTime>
      <Attr Name="_DisplaySize" Value="4000"/>
    </DesignTime>
  </ViewAttribute>
  <ViewAttribute
    Name="TransCreatedBy"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"/>
  <ViewAttribute
    Name="TransUploadedBy"
    IsSelected="false"
    IsPersistent="false"
    PrecisionRule="true"
    Precision="255"
    Type="java.lang.String"
    ColumnType="VARCHAR2"
    AliasName="VIEW_ATTR"
    SQLType="VARCHAR"/>
  <AttrArray Name="KeyAttributes">
    <Item Value="PDocId"/>
  </AttrArray>
  <ResourceBundle>
    <PropertiesBundle
      PropertiesFile="com.rmi.tradecompapproval.adfbc.ModelBundle"/>
  </ResourceBundle>
</ViewObject>
